{
  "version": 3,
  "file": "index.js",
  "sourceRoot": "",
  "sources": [
    "index.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "showsmallsearchbar = 0\n\n$ ->\n  if $(window).innerWidth() >= 768\n    $('#categorycard').css \"margin-left\",\"-15px\"\n    $('#smallscreen').hide()\n    if $('#profilemenu').length == 1\n      $('#profiledropdownmenularge').css \"left\", $('#profilemenu').position().left - 25\n    $('#merchantcontainer').css \"top\",275\n    $('#merchantlogo').removeClass 'justify-content-center'\n  else\n    $('#photogallery').hide()\n    $('#categorycarddisplay').hide()\n    $('#largescreen').hide()\n    $('#merchantcontainer').css \"top\",200\n    $('#merchantlogo').addClass 'justify-content-center'\n  $('#productcontainer').css \"top\",150\n  $('.moproducts').css 'height', $('.moproducts').outerWidth()\n  $('.mosubproducts').css 'height', $('.moproducts').outerWidth()/3\n  $('.mosubproducts').parent().css 'width', $('.mosubproducts').height()\n  $('#navbackground').css \"height\",$('.nav-pills').offset().top+$('.nav-pills').height()+4.5\n  #$('#photogallery').css \"margin-top\",(-($('#photogallery').offset().top-$('#navbackground').height()))\n  setphotogalleryoffset()\n  if getParameterByName('login') != null\n    if getParameterByName('login') == 'success'\n      successlogindialog('登陸成功!')\n  if getParameterByName('logout') != null\n    if getParameterByName('logout') == 'success'\n      successlogindialog('用戶已登出!')\n  if getParameterByName('pagedelete') != null\n    if getParameterByName('pagedelete') == 'success'\n      successlogindialog('頁面已刪除!')\n  if getParameterByName('pageadded') != null\n    if getParameterByName('pageadded') == 'success'\n      successlogindialog('已加入新頁面!')\n    else\n      errordialog('新增頁面失敗')\n  if getParameterByName('adminbgupload') != null\n    do openbgimgmanager\n    if parseInt(getParameterByName('adminbgupload')) == 1\n      successuploaddialog(getParameterByName('msg'))\n    else\n      errordialog(getParameterByName('msg'))\n  if getParameterByName('productbgupload') != null\n    do openproductimgmanager\n    if parseInt(getParameterByName('productbgupload')) == 1\n      successuploaddialog(getParameterByName('msg'))\n    else\n      errordialog(getParameterByName('msg'))\n  $('#showsearchbar').on 'click', (event) ->\n    if showsmallsearchbar == 0\n      $('#smallsearchbar').show()\n      showsmallsearchbar = 1\n    else\n      $('#smallsearchbar').hide()\n      showsmallsearchbar = 0\n    $('#navbackground').css \"height\",$('.nav-pills').offset().top+$('.nav-pills').height()+4.5\n    return\n  $('#showcategory').on 'click', (event) ->\n    $('#categorymenu').modal()\n    return\n  $('#profilebtn').on 'click', (event) ->\n    do logindialog\n    return\n  $('#profilebtn2').on 'click', (event) ->\n    do logindialog\n    return\n  $('#newpage').on 'click', (event) ->\n    do newpagedialog\n    return\n  $('.logoutbtn').on 'click', (event) ->\n    $.post('logout.php',\n      logout: 'true').done (data) ->\n        if data == 'success'\n          setTimeout (->\n            location.href = [\n              location.protocol\n              '//'\n              location.host\n              location.pathname\n            ].join('') + '?id=' + getquerystringid() + '&logout=success'\n            return\n          ), 500\n          do waitingdialog\n        return\n    return\n  return\n\n@setphotogalleryoffset = ->\n  $('#photogallery').offset top: $('#navbackground').height()\n  return\n\n@registerdialog = ->\n  $.confirm\n    icon: 'fa fa-pencil-square'\n    theme: 'material'\n    title: '用戶註冊'\n    content: '<div class=\"input-group\" style=\"margin-bottom:10px\"><input id=\"regiuser\" type=\"text\" placeholder=\"用戶名 (至少6位英文或數字)\" class=\"form-control input-login\" aria-label=\"用戶名\" /><span class=\"input-group-addon input-login-addon\"><i class=\"fa fa-user\" aria-hidden=\"true\"></i></span></div><div class=\"input-group\" style=\"margin-bottom:10px\"><input id=\"regiemail\" type=\"text\" placeholder=\"電子郵件地址\" class=\"form-control input-login\" aria-label=\"電子郵件地址\" /><span class=\"input-group-addon input-login-addon\"><i class=\"fa fa-envelope\" aria-hidden=\"true\"></i></span></div><div class=\"input-group\" style=\"margin-bottom:10px\"><input id=\"regipwd\" type=\"password\" placeholder=\"密碼 (至少6位英文或數字)\" class=\"form-control input-login\" aria-label=\"密碼\" /><span class=\"input-group-addon input-login-addon\"><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i></span></div><div class=\"input-group\" style=\"margin-bottom:10px\"><input id=\"regiconfpwd\" type=\"password\" placeholder=\"確認密碼 (至少6位英文或數字)\" class=\"form-control input-login\" aria-label=\"確認密碼\" /><span class=\"input-group-addon input-login-addon\"><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i></span></div><hr/><div class=\"input-group\" style=\"margin-bottom:10px\"><input id=\"regisurname\" type=\"text\" placeholder=\"姓\" class=\"form-control input-login\" aria-label=\"姓\" /><span class=\"input-group-addon input-login-addon\"><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i></span></div><div class=\"input-group\"><input id=\"reginame\" type=\"text\" placeholder=\"名\" class=\"form-control input-login\" aria-label=\"名\" /><span class=\"input-group-addon input-login-addon\"><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i></span></div>'\n    typeAnimated: true\n    closeIcon: true\n    draggable: true\n    buttons:\n      submitBtn:\n        text: '<i class=\"fa fa-check\" aria-hidden=\"true\"></i>&nbsp;確定'\n        btnClass: 'btn btn-success btn-nav btn-error'\n        action:->\n          if $('#regiuser').val() == \"\" || $('#regiuser').val() == null\n            errordialog '用戶名不能為空'\n            return false\n          else if $('#regiuser').val() != \"\" && $('#regiuser').val() != null && (!(isAlphaOrNumber($('#regiuser').val())) || $('#regiuser').val().length < 6)\n            errordialog '用戶名格式不正確'\n            return false\n          else if $('#regiemail').val() == \"\" || $('#regiemail').val() == null\n            errordialog '電子郵件地址不能為空'\n            return false\n          else if $('#regiemail').val() != \"\" && $('#regiemail').val() != null && !(isValidEmailAddress($('#regiemail').val()))\n            errordialog '電子郵件格式不正確'\n            return false\n          else if $('#regipwd').val() == \"\" || $('#regipwd').val() == null || $('#regiconfpwd').val() == \"\" || $('#regiconfpwd').val() == null\n            errordialog '密碼不能為空'\n            return false\n          else if $('#regipwd').val() != \"\" && $('#regipwd').val() != null && $('#regiconfpwd').val() != \"\" && $('#regiconfpwd').val() != null && (!(isAlphaOrNumber($('#regipwd').val())) || $('#regipwd').val().length < 6 || !(isAlphaOrNumber($('#regipwd').val())) || $('#regiconfpwd').val().length < 6)\n            errordialog '密碼格式不正確'\n            return false\n          else if $('#regipwd').val() != \"\" && $('#regipwd').val() != null && $('#regiconfpwd').val() != \"\" && $('#regiconfpwd').val() != null && ($('#regipwd').val() != $('#regiconfpwd').val())\n            errordialog '密碼不一致'\n            return false\n          else if $('#regisurname').val() == \"\" || $('#regisurname').val() == null || $('#reginame').val() == \"\" || $('#reginame').val() == null\n            errordialog '姓名不能為空'\n            return false\n          else\n            $.post('registeruser.php',\n              username: $('#regiuser').val()\n              firstname: $('#reginame').val()\n              lastname: $('#regisurname').val()\n              pwd: $('#regipwd').val()\n              emailaddress: $('#regiemail').val()).done (data) ->\n                if data == 'success'\n                  successlogindialog '註冊成功!'\n                else\n                  errordialog '註冊失敗，請聯繫系統管理員'\n                return\n            return true\n      closeBtn:\n        text: '<i class=\"fa fa-times\" aria-hidden=\"true\"></i>&nbsp;取消'\n        btnClass: 'btn btn-outline-success btn-nav btn-error btn-success-cancel'\n        action:->\n  return\n\n@isValidEmailAddress = (emailAddress) ->\n  pattern = /^([a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+(\\.[a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+)*|\"((([ \\t]*\\r\\n)?[ \\t]+)?([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*(([ \\t]*\\r\\n)?[ \\t]+)?\")@(([a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.)+([a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.?$/i\n  pattern.test emailAddress\n\n@isAlphaOrNumber = (str) ->\n  isAlpha = false\n  if str != ''\n    isAlpha = /^[a-zA-Z()\\s\\d]+$/.test(str)\n  isAlpha\n\n@logindialog = ->\n  username = ''\n  password = ''\n  checked = ''\n  if isNaN parseInt localStorage.getItem 'morememberme'\n    localStorage.setItem 'morememberme', 0;\n  temprememberme = parseInt localStorage.getItem 'morememberme'\n  if temprememberme == 1\n    checked = 'checked'\n    username = localStorage.getItem 'mousername'\n    password = localStorage.getItem 'mopassword'\n  inputaction = 'if (parseInt(localStorage.getItem(\\'morememberme\\')) == 1) { localStorage.setItem(\\'mousername\\', $(\\'#username\\').val()); localStorage.setItem(\\'mopassword\\', $(\\'#password\\').val()); localStorage.setItem(\\'morememberme\\', 1); }'\n  changestatus = 'if (isNaN(parseInt(localStorage.getItem(\\'morememberme\\')))) { localStorage.setItem(\\'morememberme\\',0); } if (parseInt(localStorage.getItem(\\'morememberme\\')) == 0) { localStorage.setItem(\\'mousername\\', $(\\'#username\\').val()); localStorage.setItem(\\'mopassword\\', $(\\'#password\\').val()); localStorage.setItem(\\'morememberme\\', 1); } else { localStorage.removeItem(\\'mousername\\'); localStorage.removeItem(\\'mopassword\\'); localStorage.setItem(\\'morememberme\\', 0); }';\n  content = '<div class=\"input-group\" style=\"margin-bottom:10px\"><input id=\"username\" type=\"text\" placeholder=\"用戶名或電子郵件地址\" class=\"form-control input-login\" aria-label=\"用戶名或電子郵件地址\" value=\"' + username + '\" onchange=\"' + inputaction + '\" /><span class=\"input-group-addon input-login-addon\"><i class=\"fa fa-user\" aria-hidden=\"true\"></i></span></div><div class=\"input-group\" style=\"margin-bottom:10px\"><input id=\"password\" type=\"password\" placeholder=\"密碼\" class=\"form-control input-login\" aria-label=\"密碼\" value=\"' + password + '\" onchange=\"' + inputaction + '\" /><span class=\"input-group-addon input-login-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span></div><div class=\"row\" style=\"margin-bottom:-5px\"><div class=\"col-6\"><div style=\"float:left;margin-left:5px\" class=\"form-check abc-checkbox abc-checkbox-success abc-checkbox-circle\"><input class=\"form-check-input\" id=\"rememberme\" type=\"checkbox\" ' + checked + ' onclick=\"' + changestatus + '\"><label class=\"form-check-label\" for=\"rememberme\">記住密碼</label></div></div><div class=\"col-6\"><a style=\"float:right;color:#28a745\" href=\"#\">忘記密碼？</a></div></div>'\n  setTimeout (->\n    $('.jconfirm-buttons').css 'margin-bottom', -10\n    $('.jconfirm-buttons').append '<span style=\"font-size:13px\">想成為會員？<a href=\"#\" onclick=\"registerdialog()\" style=\"color:#28a745\">點此註冊</a></span>'\n    return\n  ), 250\n  $.confirm\n    theme: 'modern'\n    title: 'Hello'\n    closeIcon: true\n    icon: 'fa fa-user-circle'\n    draggable: true\n    content: content\n    typeAnimated: true\n    buttons:\n      formSubmit:\n        text: '<i class=\"fa fa-sign-in\" aria-hidden=\"true\"></i>&nbsp;登陸'\n        btnClass: 'btn btn-success btn-nav btn-login'\n        action: ->\n          if ($('#username').val() == '') or ($('#username').val() == null)\n            errorlogindialog('用戶名或電郵地址不能為空',0)\n          else if ($('#password').val() == '') or ($('#password').val() == null)\n            errorlogindialog('密碼不能為空',0)\n          else\n            $.post('login.php',\n              username: $('#username').val()\n              password: $('#password').val()).done (data) ->\n                if data == 'failed'\n                  errorlogindialog('用戶名或密碼不正確',0)\n                else\n                  setTimeout (->\n                    location.href = [\n                      location.protocol\n                      '//'\n                      location.host\n                      location.pathname\n                    ].join('') + '?id=' + getquerystringid() + '&login=success'\n                    return\n                  ), 500\n                  do waitingdialog\n                return\n          return\n  return\n\n@waitingdialog = ->\n  $.dialog\n    theme: 'modern'\n    title: '請稍等'\n    icon: 'fa fa-refresh fa-spin'\n    draggable: true\n    content: ''\n    typeAnimated: true\n  return\n\n@successlogindialog = (msg) ->\n  $.confirm\n    icon: 'fa fa-check-square'\n    title: msg\n    content: '請點擊\"確定\"關閉該窗口'\n    typeAnimated: true\n    closeIcon: true\n    draggable: true\n    buttons:\n      closeBtn:\n        text: '<i class=\"fa fa-check\" aria-hidden=\"true\"></i>&nbsp;確定'\n        btnClass: 'btn btn-success btn-nav btn-error'\n        action:->\n  return\n\nsuccessuploaddialog = (msg) ->\n  $.confirm\n    icon: 'fa fa-check-square'\n    title: '上傳成功!'\n    content: msg\n    typeAnimated: true\n    closeIcon: true\n    draggable: true\n    buttons:\n      closeBtn:\n        text: '<i class=\"fa fa-check\" aria-hidden=\"true\"></i>&nbsp;確定'\n        btnClass: 'btn btn-success btn-nav btn-error'\n        action:->\n  return\n\nerrordialog = (msg) ->\n  $.confirm\n    icon: 'fa fa-warning'\n    title: '錯誤!'\n    content: msg\n    typeAnimated: true\n    closeIcon: true\n    draggable: true\n    buttons:\n      closeBtn:\n        text: '<i class=\"fa fa-times\" aria-hidden=\"true\"></i>&nbsp;關閉'\n        btnClass: 'btn btn-danger btn-nav btn-error'\n        action:->\n  return\n\nerrorlogindialog = (msg,action) ->\n  $.confirm\n    icon: 'fa fa-warning'\n    title: '錯誤!'\n    content: msg\n    typeAnimated: true\n    closeIcon: true\n    draggable: true\n    buttons:\n      tryAgain:\n        text: '<i class=\"fa fa-repeat\" aria-hidden=\"true\"></i>&nbsp;重試'\n        btnClass: 'btn btn-danger btn-nav btn-error'\n        action: ->\n          if action == 0\n            do logindialog\n          else if action == 1\n            do newpagedialog\n      closeBtn:\n        text: '<i class=\"fa fa-times\" aria-hidden=\"true\"></i>&nbsp;取消'\n        btnClass: 'btn btn-outline-danger btn-nav btn-error btn-error-cancel'\n        action:->\n  return\n\nnewpagedialog = ->\n  $.confirm\n    icon: 'fa fa-file-text'\n    title: '新增頁面'\n    content: '<div class=\"input-group\"><input id=\"pagename\" type=\"text\" placeholder=\"請輸入頁面名稱\" class=\"form-control input-login\" aria-label=\"頁面名稱\" /><span class=\"input-group-addon input-login-addon\"><i class=\"fa fa-file-text\" aria-hidden=\"true\"></i></span></div>'\n    typeAnimated: true\n    closeIcon: true\n    draggable: true\n    buttons:\n      confirmBtn:\n        text: '<i class=\"fa fa-plus\" aria-hidden=\"true\"></i>&nbsp;新增'\n        btnClass: 'btn btn-success btn-nav btn-error'\n        action:->\n          if $('#pagename').val() == '' or ($('#pagename').val() == null)\n            errorlogindialog('頁面名稱不能為空',1)\n          else\n            $.post('newpage.php',\n              newpage: 1\n              newpagename: $('#pagename').val()).done (data) ->\n                setTimeout (->\n                  location.href = [\n                    location.protocol\n                    '//'\n                    location.host\n                    location.pathname\n                  ].join('') + '?id=' + getquerystringid() + '&pageadded=' + data\n                  return\n                ), 500\n                do waitingdialog\n                return\n      closeBtn:\n        text: '<i class=\"fa fa-times\" aria-hidden=\"true\"></i>&nbsp;取消'\n        btnClass: 'btn btn-outline-success btn-nav btn-error btn-success-cancel'\n        action:->\n  return\n\ngetParameterByName = (name, url) ->\n  if !url\n    url = window.location.href\n  name = name.replace(/[\\[\\]]/g, '\\\\$&')\n  regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)')\n  results = regex.exec(url)\n  if !results\n    return null\n  if !results[2]\n    return ''\n  decodeURIComponent results[2].replace(/\\+/g, ' ')\n\n@movepageup = (pageid,prevpageid) ->\n  $.post('newpage.php',\n    pageorderup: 1\n    pageid: pageid\n    prevpageid: prevpageid).done (data) ->\n      if data == \"success\"\n        setTimeout (->\n          location.href = [\n            location.protocol\n            '//'\n            location.host\n            location.pathname\n          ].join('') + '?id=' + getquerystringid()\n          return\n        ), 500\n        do waitingdialog\n      return\n  return\n\n@movepagedown = (pageid,nextpageid) ->\n  $.post('newpage.php',\n    pageorderdown: 1\n    pageid: pageid\n    nextpageid: nextpageid).done (data) ->\n      if data == \"success\"\n        setTimeout (->\n          location.href = [\n            location.protocol\n            '//'\n            location.host\n            location.pathname\n          ].join('') + '?id=' + getquerystringid()\n          return\n        ), 500\n        do waitingdialog\n      return\n  return\n\n@trashbgimg = (mobgimgid,typeid,merchantid) ->\n  $.confirm\n    icon: 'fa fa-warning'\n    title: '刪除確認'\n    content: '確認刪除該圖片?'\n    typeAnimated: true\n    closeIcon: true\n    draggable: true\n    buttons:\n      tryAgain:\n        text: '<i class=\"fa fa-check\" aria-hidden=\"true\"></i>&nbsp;確定'\n        btnClass: 'btn btn-danger btn-nav btn-error'\n        action: ->\n          $.post('newpage.php',\n            deletemobgimg: typeid\n            mobgimgid: mobgimgid\n            merchantid: merchantid).done (data) ->\n              if data != \"failed\"\n                successlogindialog('刪除成功')\n                if typeid == 1\n                  $('#mobg_'+mobgimgid).fadeOut 500\n                  do loadindexbgimg\n                else if typeid == 2\n                  $('#mobg_'+mobgimgid).fadeOut 500\n                  if data != \"success\"\n                    $('.mobgimghref img').removeClass 'mobgimgselected'\n                    $('#mobgimg_' + String(data) + ' img').addClass 'mobgimgselected'\n                    loadmerbgimg(merchantid)\n                else if typeid == 3\n                  $('#mopd_'+mobgimgid).fadeOut 500\n                  if data != \"success\"\n                    $('.mobgimghref2 img').removeClass 'mobgimgselected'\n                    $('#mopdimg_' + String(data) + ' img').addClass 'mobgimgselected'\n                    loadprodbgimg(merchantid)\n              else\n                errordialog('圖片刪除失敗')\n              return\n      closeBtn:\n        text: '<i class=\"fa fa-times\" aria-hidden=\"true\"></i>&nbsp;取消'\n        btnClass: 'btn btn-outline-danger btn-nav btn-error btn-error-cancel'\n        action:->\n  return\n\n@trashpages = (pageid) ->\n  $.confirm\n    icon: 'fa fa-warning'\n    title: '刪除確認'\n    content: '確認刪除該頁面?'\n    typeAnimated: true\n    closeIcon: true\n    draggable: true\n    buttons:\n      tryAgain:\n        text: '<i class=\"fa fa-check\" aria-hidden=\"true\"></i>&nbsp;確定'\n        btnClass: 'btn btn-danger btn-nav btn-error'\n        action: ->\n          $.post('newpage.php',\n            trashpage: 1\n            pageid: pageid).done (data) ->\n              if data == \"success\"\n                setTimeout (->\n                  location.href = [\n                    location.protocol\n                    '//'\n                    location.host\n                    location.pathname\n                  ].join('') + '?id=' + getquerystringid() + '&pagedelete=success'\n                  return\n                ), 500\n                do waitingdialog\n              else\n                errordialog('頁面刪除失敗')\n              return\n      closeBtn:\n        text: '<i class=\"fa fa-times\" aria-hidden=\"true\"></i>&nbsp;取消'\n        btnClass: 'btn btn-outline-danger btn-nav btn-error btn-error-cancel'\n        action:->\n  return\n\n@openbgimgmanager = ->\n  $('#picManageModal').modal()\n  setTimeout \"$('.mobgimg').css('width',$('.addpicbtn').outerWidth()); $('.mobgimg').css('height',$('.addpicbtn').outerHeight());\",250\n  return\n\n@openproductimgmanager = ->\n  $('#picManageModal2').modal()\n  setTimeout \"$('.mobgimg2').css('width',$('.addpicbtn2').outerWidth()); $('.mobgimg2').css('height',$('.addpicbtn2').outerHeight());\",250\n  return\n\n@loadindexbgimg = ->\n  $.get 'getindexbg.php', (data) ->\n    $('#bgCarousel').html data\n    return\n  return\n\n@loadmerbgimg = (merchantid) ->\n  $.get 'getmerbg.php?id=' + merchantid, (data) ->\n    $(document.body).css\n      'background-image': '-moz-linear-gradient(0deg,rgba(255,255,255,1),rgba(255,255,255,0.7),rgba(255,255,255,0.3),rgba(255,255,255,0),rgba(255,255,255,0)), url(' + data + ')'\n      'background-image': '-webkit-gradient(0deg,rgba(255,255,255,1),rgba(255,255,255,0.7),rgba(255,255,255,0.3),rgba(255,255,255,0),rgba(255,255,255,0)), url(' + data + ')'\n      'background-image': 'background-image: -webkit-linear-gradient(0deg,rgba(255,255,255,1),rgba(255,255,255,0.7),rgba(255,255,255,0.3),rgba(255,255,255,0),rgba(255,255,255,0)), url(' + data + ')'\n      'background-image': '-o-linear-gradient(0deg,rgba(255,255,255,1),rgba(255,255,255,0.7),rgba(255,255,255,0.3),rgba(255,255,255,0),rgba(255,255,255,0)), url(' + data + ')'\n      'background-image': 'linear-gradient(0deg,rgba(255,255,255,1),rgba(255,255,255,0.7),rgba(255,255,255,0.3),rgba(255,255,255,0),rgba(255,255,255,0)), url(' + data + ')'\n    return\n  return\n\n@loadprodbgimg = (productid) ->\n  $.get 'getprodbg.php?id=' + productid + '&selected=0', (data) ->\n    if data != 'failed'\n      obj = JSON.parse data\n      $('#productimg0').css 'background-image', 'url(' + obj.A + ')'\n      $('#productimg1').css 'background-image', 'url(' + obj.B + ')'\n      $('#productimg2').css 'background-image', 'url(' + obj.C + ')'\n      $('#productimg3').css 'background-image', 'url(' + obj.D + ')'\n    return\n  return\n\n@newcategory = (obj) ->\n  obj.parent().parent().html '<div class=\"row\" style=\"margin-left:0\"><input type=\"text\" name=\"newcategoryname\" id=\"newcategoryname\" placeholder=\"輸入名稱\"><button type=\"button\" class=\"btn btn-sm btn-success rounded-circle\" onclick=\"cancelnewcategory($(this))\" style=\"margin-left:5px;width:30px;height:30px;background-color:#da3849!important\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i></button><button type=\"button\" class=\"btn btn-sm btn-success rounded-circle\" onclick=\"\" style=\"margin-left:3px;width:30px;height:30px;background-color:#28873c!important\"><i class=\"fa fa-check\" aria-hidden=\"true\"></i></button></div>'\n  return\n\n@cancelnewcategory = (obj) ->\n  obj.parent().parent().html '<div class=\"row\" style=\"margin-left:0;background-color:#28873c;padding:5px 5px 5px 8px;width:84px;height:30px;border-radius:5px\"><i class=\"fa fa-plus-circle\" aria-hidden=\"true\" style=\"margin-top:3px\"></i>&nbsp;<a href=\"#\" onclick=\"newcategory($(this))\" style=\"color:#fff\">新的類別</a></div>'\n  return\n\ngetquerystringid = ->\n  final_id = 0\n  url = document.URL\n  id_check = /[?&]id=([^&]+)/i\n  match = id_check.exec(url)\n  if match != null\n    final_id = parseInt(match[1])\n  else\n    final_id = 0\n  return final_id"
  ]
}